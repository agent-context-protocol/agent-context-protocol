{
    "1": {
        "1": {
            "subtask_description": "Retrieve a list of all Google Calendars accessible to the user.",
            "steps": {
                "1": {
                    "tool": "list-calendars",
                    "handles": "Lists all available Google Calendars",
                    "input_vars": [],
                    "output_vars": [
                        {
                            "name": "main_calendar_id",
                            "description": "The ID of the main Google Calendar",
                            "used_by": [
                                {
                                    "sub_task": 2,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "2": {
            "subtask_description": "List all events scheduled on the user's main Google Calendar for the current week (Monday to Sunday, including today).",
            "steps": {
                "1": {
                    "tool": "list-events",
                    "handles": "Retrieves all events from the main calendar for the current week",
                    "input_vars": [
                        {
                            "name": "main_calendar_id",
                            "parameter": [
                                "['calendarId']"
                            ],
                            "type": "string",
                            "source": "TOOL_Output (sub_task 1, Step 1)",
                            "description": "The ID of the main Google Calendar",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 1,
                                    "step": 1
                                }
                            ]
                        },
                        {
                            "name": "week_start_time",
                            "parameter": [
                                "['timeMin']"
                            ],
                            "type": "string",
                            "source": "LLM_Generated",
                            "description": "ISO datetime for the start of the week (Monday, Apr 28, 2025)",
                            "value": "2025-04-28T00:00:00Z",
                            "dependencies": []
                        },
                        {
                            "name": "week_end_time",
                            "parameter": [
                                "['timeMax']"
                            ],
                            "type": "string",
                            "source": "LLM_Generated",
                            "description": "ISO datetime for the end of the week (Sunday, May 4, 2025)",
                            "value": "2025-05-04T23:59:59Z",
                            "dependencies": []
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "weekly_events",
                            "description": "List of events from the main calendar for the current week",
                            "used_by": [
                                {
                                    "sub_task": 3,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "3": {
            "subtask_description": "Calculate the total hours spent in meetings versus free time for the current week.",
            "steps": {
                "1": {
                    "tool": "perplexity_reason",
                    "handles": "Analyzes weekly events to calculate meeting time vs free time",
                    "input_vars": [
                        {
                            "name": "analysis_instructions",
                            "parameter": [
                                "['messages']"
                            ],
                            "type": "array",
                            "source": "LLM_Generated",
                            "description": "Clear user prompt instructing the tool to compute total meeting hours and free hours from the event data and provide a concise explanation",
                            "value": "[{\"role\":\"user\",\"content\":\"You are given a list of calendar events for the current week. Please calculate how many total hours are spent in meetings and how many hours remain free. Provide a numeric breakdown and a short explanation.\"}]",
                            "dependencies": []
                        },
                        {
                            "name": "weekly_events",
                            "parameter": [
                                "['messages']"
                            ],
                            "type": "array",
                            "source": "TOOL_Output (sub_task 2, Step 1)",
                            "description": "The calendar events data from sub_task 2 needed for analyzing meeting vs free time",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 2,
                                    "step": 1
                                }
                            ]
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "meeting_vs_free_time_data",
                            "description": "Data with total hours spent in meetings and free time, formatted for pie chart",
                            "used_by": [
                                {
                                    "sub_task": 4,
                                    "step": 1
                                }
                            ]
                        },
                        {
                            "name": "meeting_vs_free_time_explanation",
                            "description": "Short explanation of the meeting vs free time breakdown",
                            "used_by": [
                                {
                                    "sub_task": 7,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "4": {
            "subtask_description": "Generate a pie chart visualizing the proportion of time spent in meetings versus free time for the current week.",
            "steps": {
                "1": {
                    "tool": "generate_chart",
                    "handles": "Generates a pie chart using the meeting vs free time data",
                    "input_vars": [
                        {
                            "name": "chart_type",
                            "parameter": [
                                "['type']"
                            ],
                            "type": "string",
                            "source": "LLM_Generated",
                            "description": "The chart type",
                            "value": "pie",
                            "dependencies": []
                        },
                        {
                            "name": "meeting_vs_free_time_data",
                            "parameter": [
                                "['datasets']"
                            ],
                            "type": "array",
                            "source": "TOOL_Output (sub_task 3, Step 1)",
                            "description": "Data for meetings and free time",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 3,
                                    "step": 1
                                }
                            ]
                        },
                        {
                            "name": "chart_labels",
                            "parameter": [
                                "['labels']"
                            ],
                            "type": "array",
                            "source": "LLM_Generated",
                            "description": "Labels for the pie chart",
                            "value": "[\"Meetings\", \"Free Time\"]",
                            "dependencies": []
                        },
                        {
                            "name": "chart_title",
                            "parameter": [
                                "['title']"
                            ],
                            "type": "string",
                            "source": "LLM_Generated",
                            "description": "Title of the chart",
                            "value": "Weekly Breakdown: Meetings vs Free Time",
                            "dependencies": []
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "pie_chart_config",
                            "description": "Chart configuration object for the pie chart",
                            "used_by": [
                                {
                                    "sub_task": 5,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "5": {
            "subtask_description": "Download the pie chart image generated in sub_task 4.",
            "steps": {
                "1": {
                    "tool": "download_chart",
                    "handles": "Downloads the pie chart image to a local file",
                    "input_vars": [
                        {
                            "name": "pie_chart_config",
                            "parameter": [
                                "['config']"
                            ],
                            "type": "object",
                            "source": "TOOL_Output (sub_task 4, Step 1)",
                            "description": "Chart configuration object for the pie chart",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 4,
                                    "step": 1
                                }
                            ]
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "pie_chart_image_path",
                            "description": "Path to the downloaded pie chart image",
                            "used_by": [
                                {
                                    "sub_task": 7,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "6": {
            "subtask_description": "List all public Slack channels to retrieve the channel ID for llm_agents_proj.",
            "steps": {
                "1": {
                    "tool": "slack_list_channels",
                    "handles": "Lists public Slack channels to find llm_agents_proj",
                    "input_vars": [
                        {
                            "name": "slack_channels_limit",
                            "parameter": [
                                "['limit']"
                            ],
                            "type": "number",
                            "source": "LLM_Generated",
                            "description": "Maximum number of channels to return",
                            "value": "100",
                            "dependencies": []
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "llm_agents_proj_channel_id",
                            "description": "Channel ID for llm_agents_proj",
                            "used_by": [
                                {
                                    "sub_task": 7,
                                    "step": 1
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "7": {
            "subtask_description": "Post the downloaded pie chart image and a short explanation to the llm_agents_proj Slack channel.",
            "steps": {
                "1": {
                    "tool": "slack_post_message",
                    "handles": "Posts the pie chart and explanation to llm_agents_proj",
                    "input_vars": [
                        {
                            "name": "llm_agents_proj_channel_id",
                            "parameter": [
                                "['channel_id']"
                            ],
                            "type": "string",
                            "source": "TOOL_Output (sub_task 6, Step 1)",
                            "description": "Channel ID for llm_agents_proj",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 6,
                                    "step": 1
                                }
                            ]
                        },
                        {
                            "name": "meeting_vs_free_time_explanation",
                            "parameter": [
                                "['text']"
                            ],
                            "type": "string",
                            "source": "TOOL_Output (sub_task 3, Step 1)",
                            "description": "Short explanation of the meeting vs free time breakdown",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 3,
                                    "step": 1
                                }
                            ]
                        },
                        {
                            "name": "pie_chart_image_path",
                            "parameter": [
                                "['text']"
                            ],
                            "type": "string",
                            "source": "TOOL_Output (sub_task 5, Step 1)",
                            "description": "Path to the downloaded pie chart image (to be referenced in the message)",
                            "value": "None",
                            "dependencies": [
                                {
                                    "sub_task": 5,
                                    "step": 1
                                }
                            ]
                        }
                    ],
                    "output_vars": [
                        {
                            "name": "slack_post_confirmation",
                            "description": "Confirmation or result of posting to Slack",
                            "used_by": []
                        }
                    ]
                }
            }
        }
    }
}